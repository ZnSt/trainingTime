{"ast":null,"code":"var _jsxFileName = \"/Users/privetsvuemlord/Documents/react/trainingTime/src/components/ToDo/TodoList/TodoList.jsx\";\nimport { Component } from \"react\";\nimport shortid from \"shortid\";\nimport { List } from \"../List\";\nimport { TodoEditor } from \"../TodoEditor\";\nimport { Filter } from \"../Filter\";\nimport { MyVerticallyCenteredModal } from \"../MyVerticallyCenteredModal\";\nimport Button from \"react-bootstrap/Button\";\nimport { Modal } from \"../Modal/Modal\";\nimport { BtnForModal } from \"../BtnForModal\";\nimport { ReactComponent as CloseIcon } from \"../../../svg/close.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class TodoList extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      todos: [],\n      filter: \"\",\n      modalShow: false\n    };\n\n    this.addTodo = text => {\n      const todo = {\n        id: shortid.generate(),\n        text,\n        completed: false\n      };\n      this.setState(prevState => ({\n        todos: [todo, ...prevState.todos]\n      }));\n    };\n\n    this.deleteTodo = id => {\n      this.setState(prevState => ({\n        todos: prevState.todos.filter(todo => todo.id !== id)\n      }));\n    };\n\n    this.toggleCompleted = todoId => {\n      this.setState(prevState => ({\n        todos: prevState.todos.map(todo => {\n          if (todo.id === todoId) {\n            return { ...todo,\n              completed: !todo.completed\n            };\n          }\n\n          return todo;\n        })\n      }));\n    };\n\n    this.changeFilter = event => {\n      this.setState({\n        filter: event.currentTarget.value\n      });\n    };\n\n    this.getVisibleTodos = () => {\n      const normalizedFilter = this.state.filter.toLowerCase();\n      return this.state.todos.filter(todo => todo.text.includes(normalizedFilter));\n    };\n\n    this.toggleModal = () => {\n      this.setState(_ref => {\n        let {\n          modalShow\n        } = _ref;\n        return {\n          modalShow: !modalShow\n        };\n      });\n    };\n  }\n\n  componentDidMount() {\n    const todos = localStorage.getItem(\"todos\");\n    const parse = JSON.parse(todos);\n\n    if (parse) {\n      this.setState({\n        todos: parse\n      });\n    }\n  }\n\n  componentDidUpdate(_, prevState) {\n    const {\n      todos\n    } = this.state;\n\n    if (todos !== prevState.todos) {\n      localStorage.setItem(\"todos\", JSON.stringify(this.state.todos));\n    }\n  } // НЕ ТРОГАТЬ!!!\n  // setModalShow = (value) => {\n  //   this.setState({ modalShow: value });\n  // };\n\n\n  render() {\n    const {\n      todos,\n      modalShow\n    } = this.state;\n    const completed = todos.filter(todo => todo.completed);\n    const filterTodos = this.getVisibleTodos();\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(BtnForModal, {\n        onToggle: this.toggleModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), modalShow && /*#__PURE__*/_jsxDEV(Modal, {\n        onClose: this.toggleModal,\n        style: {\n          position: \"relative\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          size: \"sm\",\n          onClick: this.toggleModal,\n          style: {\n            position: \"absolute\",\n            top: \"5px\",\n            right: \"8px\",\n            background: \"white\",\n            borderColor: \"red\"\n          },\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n            width: \"40\",\n            height: \"40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit obcaecati eum officia dignissimos rerum ipsam, repellat, corporis quibusdam impedit iure sunt maxime amet maiores aperiam dolor ducimus ullam, nesciunt ratione quaerat eaque! Neque, maxime dolore nostrum numquam dignissimos consequuntur commodi modi, quos vitae impedit magnam velit corrupti distinctio molestias consectetur corporis inventore in minima accusamus dolor recusandae. Fuga accusantium cupiditate corrupti earum aliquam voluptas, porro, fugit sapiente assumenda tenetur odio officiis iure est debitis repudiandae veniam eius? Corporis, delectus rem!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041E\\u0431\\u0449\\u0435\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E Todo: \", todos.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u044B\\u0445: \", completed.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Filter, {\n        onFilter: this.state.filter,\n        changeFilter: this.changeFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        todos: filterTodos,\n        title: \"\\u0421\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u0435 \\u041A\\u043E\\u043C\\u043F\\u043E\\u043D\\u0435\\u043D\\u0442\\u0430: \",\n        onDelete: this.deleteTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TodoEditor, {\n        onSubmit: this.addTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/Users/privetsvuemlord/Documents/react/trainingTime/src/components/ToDo/TodoList/TodoList.jsx"],"names":["Component","shortid","List","TodoEditor","Filter","MyVerticallyCenteredModal","Button","Modal","BtnForModal","ReactComponent","CloseIcon","TodoList","state","todos","filter","modalShow","addTodo","text","todo","id","generate","completed","setState","prevState","deleteTodo","toggleCompleted","todoId","map","changeFilter","event","currentTarget","value","getVisibleTodos","normalizedFilter","toLowerCase","includes","toggleModal","componentDidMount","localStorage","getItem","parse","JSON","componentDidUpdate","_","setItem","stringify","render","filterTodos","position","top","right","background","borderColor","length"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport shortid from \"shortid\";\nimport { List } from \"../List\";\nimport { TodoEditor } from \"../TodoEditor\";\nimport { Filter } from \"../Filter\";\nimport { MyVerticallyCenteredModal } from \"../MyVerticallyCenteredModal\";\nimport Button from \"react-bootstrap/Button\";\n\nimport { Modal } from \"../Modal/Modal\";\nimport { BtnForModal } from \"../BtnForModal\";\n\nimport { ReactComponent as CloseIcon } from \"../../../svg/close.svg\";\nexport class TodoList extends Component {\n  state = {\n    todos: [],\n    filter: \"\",\n    modalShow: false,\n  };\n\n  addTodo = (text) => {\n    const todo = {\n      id: shortid.generate(),\n      text,\n      completed: false,\n    };\n\n    this.setState((prevState) => ({\n      todos: [todo, ...prevState.todos],\n    }));\n  };\n  deleteTodo = (id) => {\n    this.setState((prevState) => ({\n      todos: prevState.todos.filter((todo) => todo.id !== id),\n    }));\n  };\n\n  toggleCompleted = (todoId) => {\n    this.setState((prevState) => ({\n      todos: prevState.todos.map((todo) => {\n        if (todo.id === todoId) {\n          return {\n            ...todo,\n            completed: !todo.completed,\n          };\n        }\n\n        return todo;\n      }),\n    }));\n  };\n\n  changeFilter = (event) => {\n    this.setState({ filter: event.currentTarget.value });\n  };\n\n  getVisibleTodos = () => {\n    const normalizedFilter = this.state.filter.toLowerCase();\n    return this.state.todos.filter((todo) => todo.text.includes(normalizedFilter));\n  };\n\n  componentDidMount() {\n    const todos = localStorage.getItem(\"todos\");\n    const parse = JSON.parse(todos);\n    if (parse) {\n      this.setState({ todos: parse });\n    }\n  }\n  componentDidUpdate(_, prevState) {\n    const { todos } = this.state;\n    if (todos !== prevState.todos) {\n      localStorage.setItem(\"todos\", JSON.stringify(this.state.todos));\n    }\n  }\n\n  // НЕ ТРОГАТЬ!!!\n  // setModalShow = (value) => {\n  //   this.setState({ modalShow: value });\n  // };\n\n  toggleModal = () => {\n    this.setState(({ modalShow }) => ({\n      modalShow: !modalShow,\n    }));\n  };\n\n  render() {\n    const { todos, modalShow } = this.state;\n    const completed = todos.filter((todo) => todo.completed);\n    const filterTodos = this.getVisibleTodos();\n    return (\n      <>\n        <BtnForModal onToggle={this.toggleModal} />\n        {modalShow && (\n          <Modal onClose={this.toggleModal} style={{ position: \"relative\" }}>\n            <Button\n              variant=\"primary\"\n              size=\"sm\"\n              onClick={this.toggleModal}\n              style={{\n                position: \"absolute\",\n                top: \"5px\",\n                right: \"8px\",\n                background: \"white\",\n                borderColor: \"red\",\n              }}\n            >\n              <CloseIcon width=\"40\" height=\"40\" />\n            </Button>\n            <h2>Info</h2>\n            <p>\n              Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit obcaecati eum\n              officia dignissimos rerum ipsam, repellat, corporis quibusdam impedit iure sunt maxime\n              amet maiores aperiam dolor ducimus ullam, nesciunt ratione quaerat eaque! Neque,\n              maxime dolore nostrum numquam dignissimos consequuntur commodi modi, quos vitae\n              impedit magnam velit corrupti distinctio molestias consectetur corporis inventore in\n              minima accusamus dolor recusandae. Fuga accusantium cupiditate corrupti earum aliquam\n              voluptas, porro, fugit sapiente assumenda tenetur odio officiis iure est debitis\n              repudiandae veniam eius? Corporis, delectus rem!\n            </p>\n          </Modal>\n        )}\n        <div>\n          <p>Общее количество Todo: {todos.length}</p>\n          <p>Количество выполненых: {completed.length}</p>\n        </div>\n        <Filter onFilter={this.state.filter} changeFilter={this.changeFilter} />\n\n        <List todos={filterTodos} title=\"Состояние Компонента: \" onDelete={this.deleteTodo} />\n        <TodoEditor onSubmit={this.addTodo} />\n\n        {/* <Button variant=\"primary\" onClick={() => this.setModalShow(true)}>\n          Open Modal\n        </Button>\n        <MyVerticallyCenteredModal\n          show={this.state.modalShow}\n          onHide={() => this.setModalShow(false)}\n        /> */}\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}